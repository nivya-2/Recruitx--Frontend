<app-common-layout>
    <div class="dashboard-container">
      <!-- Left Section -->
      <section class="left-section">
        <!-- Job Requisition Card -->
        <div class="card full-width job-requisition job">
          <div class="job-requisition-header">
            <app-header-text context="table-header" [nopad]="true">Job Requisition Forms</app-header-text>
            <div class="sort-dropdown">
              Sort by date <span class="arrow"></span>
            </div>
          </div>
          <hr />
          <app-list-view [jobs]="jobs"></app-list-view>
        </div>
  
        <!-- Bottom Metrics -->
        <div class="bottom-metrics">
          <div class="card metric-card" style="height: 210px;">
            <p-chart type="bar" [data]="barChartData" [options]="barChartOptions"></p-chart>
          </div>
          <div class="card metric-card">Time to Hire</div>
        </div>
      </section>
  
      <!-- Right Section -->
      <section class="right-section">
  
        <!-- Card 1: Increase -->
        <div class="card">
          <div class="increase">
            +61% <span>ðŸ“ˆ</span>
          </div>
          <div class="increase-text">
            Increase in the number of successful hires this month
          </div>
        </div>
      
        <!-- Loop through metricsData -->
        <div class="card" *ngFor="let metric of metricsData">
          <div class="stat-block">
            <div class="label">{{ metric.title }}</div>
            <div style="display: flex;flex-direction: row; justify-content: space-between;">
  
            <div class="stat" style="padding-left:3vw" [ngStyle]="metric.percentage == undefined ? { width: '100%' } : {}">{{ metric.value }}</div>
      
            <!-- Show progress ring if percentage exists -->
            <div class="progress-circle" *ngIf="metric.percentage !== undefined">
              <svg width="48" height="48">
                <circle class="progress-bg" cx="24" cy="24" r="20"></circle>
                <circle
                  class="progress-bar"
                  cx="24"
                  cy="24"
                  r="20"
                  [attr.stroke]="metric.color"
                  stroke-dasharray="125.6"
                  [attr.stroke-dashoffset]="125.6 - (metric.percentage / 100) * 125.6"
                ></circle>
              </svg>
              <div class="progress-text">{{ metric.percentage }}%</div>
            </div>
          </div>
          </div>
        </div>
      
      </section>
      
    </div>
  </app-common-layout>
  